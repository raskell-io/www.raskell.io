{% extends "base.html" %}

{% block content %}
<div class="container">
    <article>
        <header class="article-header">
            <div class="thumb">
                <div>
                    <h1>{{ page.title }}</h1>
                    <div class="post-meta">
                        <div class="meta-line">
                            <span class="author">{{ page.extra.author | default(value=config.extra.author) }}</span>
                            <span class="separator">·</span>
                            <time>{{ page.date | date(format="%B %d, %Y") }}</time>
                            <span class="separator">·</span>
                            <span class="reading-time">{{ page.reading_time }} min read</span>
                        </div>
                        {% if page.taxonomies.tags or page.taxonomies.series %}
                        <div class="article-taxonomies">
                            {% if page.taxonomies.tags %}
                            <div class="tags">
                                {% for tag in page.taxonomies.tags %}
                                <a href="{{ get_taxonomy_url(kind="tags", name=tag) }}" class="tag">{{ tag }}</a>
                                {% endfor %}
                            </div>
                            {% endif %}
                            {% if page.taxonomies.series %}
                            <div class="series-badge">
                                Series: <a href="{{ get_taxonomy_url(kind="series", name=page.taxonomies.series[0]) }}">{{ page.taxonomies.series[0] }}</a>
                            </div>
                            {% endif %}
                        </div>
                        {% endif %}
                    </div>
                </div>
            </div>
            {% if page.extra.image %}
            <img src="/{{ page.extra.image }}" alt="{{ page.title }}" class="post-thumbnail" loading="lazy" decoding="async">
            {% endif %}
        </header>
    </article>

    <div class="article-post">
        {{ page.content | safe }}
    </div>
</div>

<div class="container">
    <nav class="flex container suggested">
        {% if page.lower %}
        <a rel="prev" href="{{ page.lower.permalink }}" title="Previous post (older)">
            <span>← Previous</span>
            <strong>{{ page.lower.title }}</strong>
        </a>
        {% endif %}

        {% if page.higher %}
        <a rel="next" href="{{ page.higher.permalink }}" title="Next post (newer)">
            <span>Next →</span>
            <strong>{{ page.higher.title }}</strong>
        </a>
        {% endif %}
    </nav>
</div>
{% endblock content %}
